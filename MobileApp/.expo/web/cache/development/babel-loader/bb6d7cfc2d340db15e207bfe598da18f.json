{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport * as SecureStore from \"expo-secure-store\";\nimport jwtDecode from \"jwt-decode\";\nvar key = \"authToken\";\nvar storeToken = function () {\n  var _ref = _asyncToGenerator(function* (authToken) {\n    try {\n      yield SecureStore.setItemAsync(key, authToken);\n    } catch (error) {\n      console.log(\"Error storing the auth token\", error);\n    }\n  });\n  return function storeToken(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getToken = function () {\n  var _ref2 = _asyncToGenerator(function* () {\n    try {\n      return yield SecureStore.getItemAsync(key);\n    } catch (error) {\n      console.log(\"Error getting the auth token\", error);\n    }\n  });\n  return function getToken() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar getUser = function () {\n  var _ref3 = _asyncToGenerator(function* () {\n    var token = yield getToken();\n    return token ? jwtDecode(token) : null;\n  });\n  return function getUser() {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar removeToken = function () {\n  var _ref4 = _asyncToGenerator(function* () {\n    try {\n      yield SecureStore.deleteItemAsync(key);\n    } catch (error) {\n      console.log(\"Error removing the auth token\", error);\n    }\n  });\n  return function removeToken() {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport default {\n  getToken: getToken,\n  getUser: getUser,\n  removeToken: removeToken,\n  storeToken: storeToken\n};","map":{"version":3,"names":["SecureStore","jwtDecode","key","storeToken","authToken","setItemAsync","error","console","log","getToken","getItemAsync","getUser","token","removeToken","deleteItemAsync"],"sources":["/Users/salt-dev/bootCamp/week13/day2/Final-Project/MobileApp/app/auth/storage.js"],"sourcesContent":["import * as SecureStore from \"expo-secure-store\";\nimport jwtDecode from \"jwt-decode\";\n\nconst key = \"authToken\";\n\nconst storeToken = async (authToken) => {\n    try {\n        await SecureStore.setItemAsync(key, authToken);\n    } catch (error) {\n        console.log(\"Error storing the auth token\", error);\n    }\n};\n\nconst getToken = async () => {\n    try {\n        return await SecureStore.getItemAsync(key);\n    } catch (error) {\n        console.log(\"Error getting the auth token\", error);\n    }\n};\n\nconst getUser = async () => {\n    const token = await getToken();\n    return token ? jwtDecode(token) : null;\n};\n\nconst removeToken = async () => {\n    try {\n        await SecureStore.deleteItemAsync(key);\n    } catch (error) {\n        console.log(\"Error removing the auth token\", error);\n    }\n};\n\nexport default { getToken, getUser, removeToken, storeToken };\n"],"mappings":";AAAA,OAAO,KAAKA,WAAW,MAAM,mBAAmB;AAChD,OAAOC,SAAS,MAAM,YAAY;AAElC,IAAMC,GAAG,GAAG,WAAW;AAEvB,IAAMC,UAAU;EAAA,6BAAG,WAAOC,SAAS,EAAK;IACpC,IAAI;MACA,MAAMJ,WAAW,CAACK,YAAY,CAACH,GAAG,EAAEE,SAAS,CAAC;IAClD,CAAC,CAAC,OAAOE,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEF,KAAK,CAAC;IACtD;EACJ,CAAC;EAAA,gBANKH,UAAU;IAAA;EAAA;AAAA,GAMf;AAED,IAAMM,QAAQ;EAAA,8BAAG,aAAY;IACzB,IAAI;MACA,aAAaT,WAAW,CAACU,YAAY,CAACR,GAAG,CAAC;IAC9C,CAAC,CAAC,OAAOI,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEF,KAAK,CAAC;IACtD;EACJ,CAAC;EAAA,gBANKG,QAAQ;IAAA;EAAA;AAAA,GAMb;AAED,IAAME,OAAO;EAAA,8BAAG,aAAY;IACxB,IAAMC,KAAK,SAASH,QAAQ,EAAE;IAC9B,OAAOG,KAAK,GAAGX,SAAS,CAACW,KAAK,CAAC,GAAG,IAAI;EAC1C,CAAC;EAAA,gBAHKD,OAAO;IAAA;EAAA;AAAA,GAGZ;AAED,IAAME,WAAW;EAAA,8BAAG,aAAY;IAC5B,IAAI;MACA,MAAMb,WAAW,CAACc,eAAe,CAACZ,GAAG,CAAC;IAC1C,CAAC,CAAC,OAAOI,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEF,KAAK,CAAC;IACvD;EACJ,CAAC;EAAA,gBANKO,WAAW;IAAA;EAAA;AAAA,GAMhB;AAED,eAAe;EAAEJ,QAAQ,EAARA,QAAQ;EAAEE,OAAO,EAAPA,OAAO;EAAEE,WAAW,EAAXA,WAAW;EAAEV,UAAU,EAAVA;AAAW,CAAC"},"metadata":{},"sourceType":"module"}