{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Card from \"../components/Card\";\nimport colors from \"../config/colors\";\nimport listingApi from \"../api/listings\";\nimport routes from \"../navigation/routes\";\nimport Screen from \"../components/Screen\";\nimport listings from \"../api/listings\";\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ListingsScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    listings = _useState2[0],\n    setListings = _useState2[1];\n  useEffect(function () {\n    loadListings();\n  }, []);\n  var loadListings = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var response = yield listingApi.getListings();\n      setListings(response.data);\n    });\n    return function loadListings() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(Screen, {\n    style: styles.screen,\n    children: _jsx(FlatList, {\n      data: listings,\n      keyExtractor: function keyExtractor(listing) {\n        return listing.id.toString();\n      },\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return _jsx(Card, {\n          title: item.title,\n          subTitle: \"$\" + item.price,\n          image: item.image,\n          onPress: function onPress() {\n            return navigation.navigate(routes.LISTING_DETAILS, item);\n          }\n        });\n      }\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  screen: {\n    padding: 20,\n    backgroundColor: colors.light\n  }\n});\nexport default ListingsScreen;","map":{"version":3,"names":["React","useEffect","useState","Card","colors","listingApi","routes","Screen","listings","ListingsScreen","navigation","setListings","loadListings","response","getListings","data","styles","screen","listing","id","toString","item","title","price","image","navigate","LISTING_DETAILS","StyleSheet","create","padding","backgroundColor","light"],"sources":["/Users/salt-dev/bootCamp/week12/reuse/Final-Project/MobileApp/app/screens/ListingsScreen.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { FlatList, StyleSheet } from \"react-native\";\n\nimport Card from \"../components/Card\";\nimport colors from \"../config/colors\";\nimport listingApi from \"../api/listings\";\nimport routes from \"../navigation/routes\";\nimport Screen from \"../components/Screen\";\nimport listings from \"../api/listings\";\n\n\n// const listings = [\n//   {\n//     id: 1,\n//     title: \"Red jacket for sale\",\n//     price: 100,\n//     image: require(\"../assets/jacket.jpg\"),\n//   },\n//   {\n//     id: 2,\n//     title: \"Couch in great condition\",\n//     price: 1000,\n//     image: require(\"../assets/couch.jpg\"),\n//   },\n// ];\n\nfunction ListingsScreen({ navigation }) {\n  const [listings, setListings] = useState([]);\n  \n  useEffect(() => {\n    loadListings();\n  }, []);\n  const loadListings = async () => { \n    const response = await listingApi.getListings();\n    setListings(response.data)\n  }\n  return (\n    <Screen style={styles.screen}>\n      <FlatList\n        data={listings}\n        keyExtractor={(listing) => listing.id.toString()}\n        renderItem={({ item }) => (\n          <Card\n            title={item.title}\n            subTitle={\"$\" + item.price}\n            image={item.image}\n            onPress={() => navigation.navigate(routes.LISTING_DETAILS, item)}\n          />\n        )}\n      />\n    </Screen>\n  );\n}\n\nconst styles = StyleSheet.create({\n  screen: {\n    padding: 20,\n    backgroundColor: colors.light,\n  },\n});\n\nexport default ListingsScreen;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC;AAAA;AAGnD,OAAOC,IAAI;AACX,OAAOC,MAAM;AACb,OAAOC,UAAU;AACjB,OAAOC,MAAM;AACb,OAAOC,MAAM;AACb,OAAOC,QAAQ;;AAAwB;;AAkBvC,SAASC,cAAc,OAAiB;EAAA,IAAdC,UAAU,QAAVA,UAAU;EAClC,gBAAgCR,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCM,QAAQ;IAAEG,WAAW;EAE5BV,SAAS,CAAC,YAAM;IACdW,YAAY,EAAE;EAChB,CAAC,EAAE,EAAE,CAAC;EACN,IAAMA,YAAY;IAAA,8BAAG,aAAY;MAC/B,IAAMC,QAAQ,SAASR,UAAU,CAACS,WAAW,EAAE;MAC/CH,WAAW,CAACE,QAAQ,CAACE,IAAI,CAAC;IAC5B,CAAC;IAAA,gBAHKH,YAAY;MAAA;IAAA;EAAA,GAGjB;EACD,OACE,KAAC,MAAM;IAAC,KAAK,EAAEI,MAAM,CAACC,MAAO;IAAA,UAC3B,KAAC,QAAQ;MACP,IAAI,EAAET,QAAS;MACf,YAAY,EAAE,sBAACU,OAAO;QAAA,OAAKA,OAAO,CAACC,EAAE,CAACC,QAAQ,EAAE;MAAA,CAAC;MACjD,UAAU,EAAE;QAAA,IAAGC,IAAI,SAAJA,IAAI;QAAA,OACjB,KAAC,IAAI;UACH,KAAK,EAAEA,IAAI,CAACC,KAAM;UAClB,QAAQ,EAAE,GAAG,GAAGD,IAAI,CAACE,KAAM;UAC3B,KAAK,EAAEF,IAAI,CAACG,KAAM;UAClB,OAAO,EAAE;YAAA,OAAMd,UAAU,CAACe,QAAQ,CAACnB,MAAM,CAACoB,eAAe,EAAEL,IAAI,CAAC;UAAA;QAAC,EACjE;MAAA;IACF;EACF,EACK;AAEb;AAEA,IAAML,MAAM,GAAGW,UAAU,CAACC,MAAM,CAAC;EAC/BX,MAAM,EAAE;IACNY,OAAO,EAAE,EAAE;IACXC,eAAe,EAAE1B,MAAM,CAAC2B;EAC1B;AACF,CAAC,CAAC;AAEF,eAAetB,cAAc"},"metadata":{},"sourceType":"module"}