{"ast":null,"code":"import client from \"./client\";\nvar endpoint = \"/listings\";\nvar getListings = function getListings() {\n  return client.get(endpoint);\n};\nexport var addListing = function addListing(listing, _onUploadProgress) {\n  var data = new FormData();\n  data.append(\"title\", listing.title);\n  data.append(\"price\", listing.price);\n  data.append(\"categoryId\", listing.category.value);\n  data.append(\"description\", listing.description);\n  listing.images.forEach(function (image, index) {\n    return data.append(\"images\", {\n      name: \"image\" + index,\n      type: \"image/jpeg\",\n      uri: image\n    });\n  });\n  if (listing.location) data.append(\"location\", JSON.stringify(listing.location));\n  return client.post(endpoint, data, {\n    onUploadProgress: function onUploadProgress(progress) {\n      return _onUploadProgress(progress.loaded / progress.total);\n    }\n  });\n};\nexport default {\n  addListing: addListing,\n  getListings: getListings\n};","map":{"version":3,"names":["client","endpoint","getListings","get","addListing","listing","onUploadProgress","data","FormData","append","title","price","category","value","description","images","forEach","image","index","name","type","uri","location","JSON","stringify","post","progress","loaded","total"],"sources":["/Users/salt-dev/bootCamp/week12/reuse/Final-Project/MobileApp/app/api/listings.js"],"sourcesContent":["import client from \"./client\";\n\nconst endpoint = \"/listings\";\n\nconst getListings = () => client.get(endpoint);\n\nexport const addListing = (listing, onUploadProgress) => {\n    const data = new FormData();\n    data.append(\"title\", listing.title);\n    data.append(\"price\", listing.price);\n    data.append(\"categoryId\", listing.category.value);\n    data.append(\"description\", listing.description);\n\n    listing.images.forEach((image, index) =>\n        data.append(\"images\", {\n            name: \"image\" + index,\n            type: \"image/jpeg\",\n            uri: image,\n        })\n    );\n\n    if (listing.location)\n        data.append(\"location\", JSON.stringify(listing.location));\n\n    return client.post(endpoint, data, {\n        onUploadProgress: (progress) =>\n            onUploadProgress(progress.loaded / progress.total),\n    });\n};\n\nexport default {\n    addListing,\n    getListings,\n};\n"],"mappings":"AAAA,OAAOA,MAAM;AAEb,IAAMC,QAAQ,GAAG,WAAW;AAE5B,IAAMC,WAAW,GAAG,SAAdA,WAAW;EAAA,OAASF,MAAM,CAACG,GAAG,CAACF,QAAQ,CAAC;AAAA;AAE9C,OAAO,IAAMG,UAAU,GAAG,SAAbA,UAAU,CAAIC,OAAO,EAAEC,iBAAgB,EAAK;EACrD,IAAMC,IAAI,GAAG,IAAIC,QAAQ,EAAE;EAC3BD,IAAI,CAACE,MAAM,CAAC,OAAO,EAAEJ,OAAO,CAACK,KAAK,CAAC;EACnCH,IAAI,CAACE,MAAM,CAAC,OAAO,EAAEJ,OAAO,CAACM,KAAK,CAAC;EACnCJ,IAAI,CAACE,MAAM,CAAC,YAAY,EAAEJ,OAAO,CAACO,QAAQ,CAACC,KAAK,CAAC;EACjDN,IAAI,CAACE,MAAM,CAAC,aAAa,EAAEJ,OAAO,CAACS,WAAW,CAAC;EAE/CT,OAAO,CAACU,MAAM,CAACC,OAAO,CAAC,UAACC,KAAK,EAAEC,KAAK;IAAA,OAChCX,IAAI,CAACE,MAAM,CAAC,QAAQ,EAAE;MAClBU,IAAI,EAAE,OAAO,GAAGD,KAAK;MACrBE,IAAI,EAAE,YAAY;MAClBC,GAAG,EAAEJ;IACT,CAAC,CAAC;EAAA,EACL;EAED,IAAIZ,OAAO,CAACiB,QAAQ,EAChBf,IAAI,CAACE,MAAM,CAAC,UAAU,EAAEc,IAAI,CAACC,SAAS,CAACnB,OAAO,CAACiB,QAAQ,CAAC,CAAC;EAE7D,OAAOtB,MAAM,CAACyB,IAAI,CAACxB,QAAQ,EAAEM,IAAI,EAAE;IAC/BD,gBAAgB,EAAE,0BAACoB,QAAQ;MAAA,OACvBpB,iBAAgB,CAACoB,QAAQ,CAACC,MAAM,GAAGD,QAAQ,CAACE,KAAK,CAAC;IAAA;EAC1D,CAAC,CAAC;AACN,CAAC;AAED,eAAe;EACXxB,UAAU,EAAVA,UAAU;EACVF,WAAW,EAAXA;AACJ,CAAC"},"metadata":{},"sourceType":"module"}